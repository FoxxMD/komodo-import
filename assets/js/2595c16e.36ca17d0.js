"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["337"],{4733:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>i,default:()=>h,toc:()=>d,metadata:()=>s,assets:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"usage/resourceSync","title":"Using Sync Resources","description":"What is a Sync Resource?","source":"@site/docs/usage/resourceSync.mdx","sourceDirName":"usage","slug":"/usage/resourceSync","permalink":"/komodo-import/docs/usage/resourceSync","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/usage/resourceSync.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Using Sync Resources","toc_max_heading_level":4},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/komodo-import/docs/usage/overview"},"next":{"title":"FAQ","permalink":"/komodo-import/docs/FAQ"}}'),t=o(5893),r=o(65);let i={sidebar_position:3,title:"Using Sync Resources",toc_max_heading_level:4},c=void 0,a={},d=[{value:"What is a Sync Resource?",id:"what-is-a-sync-resource",level:2},{value:"How To Use with Komodo Import?",id:"how-to-use-with-komodo-import",level:2},{value:"Create Sync Resource",id:"create-sync-resource",level:3},{value:"Verify Sync Changes",id:"verify-sync-changes",level:3},{value:"Execute Sync",id:"execute-sync",level:3},{value:"Remove Sync (Optional)",id:"remove-sync-optional",level:3}];function l(e){let n={a:"a",admonition:"admonition",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"what-is-a-sync-resource",children:"What is a Sync Resource?"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.a,{href:"https://komo.do/docs/sync-resources",children:(0,t.jsx)(n.strong,{children:"Sync Resource"})})," is a text/file containing ",(0,t.jsx)(n.a,{href:"https://toml.io/en/",children:"TOML"})," that represents one or more Komodo ",(0,t.jsx)(n.a,{href:"https://komo.do/docs/resources",children:"Resources"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Komodo can use a Sync Resource to"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execute"})," from the Sync, creating/modifying/deleting Resources in Komodo ",(0,t.jsx)(n.strong,{children:"so that it matches what is declared in the Sync TOML"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Commit"})," to the Sync, generating a representation of what is ",(0,t.jsx)(n.strong,{children:"currently in Komodo"})," and writing out to the Sync TOML contents"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"how-to-use-with-komodo-import",children:"How To Use with Komodo Import?"}),"\n",(0,t.jsxs)(n.p,{children:['Komodo Import gives you the TOML representation of Resources not yet in Komodo. You can use this to bulk "create" Resources that connect to your existing compose projects, container, etc, by ',(0,t.jsx)(n.strong,{children:"Executing"})," a Sync Resource created with Komodo Import."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:["If you are copy-pasting ",(0,t.jsx)(n.a,{href:"../overview#console",children:"console Output"})," or ",(0,t.jsx)(n.a,{href:"../overview#file",children:"file Output"})]})," then proceed to ",(0,t.jsx)(n.a,{href:"#create-sync-resource",children:"Create Sync Resource"})," to ",(0,t.jsx)(n.strong,{children:"manually"})," create a Sync Resource from the TOML Komodo Import generated for you."]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.strong,{children:["If you used ",(0,t.jsx)(n.a,{href:"../overview#api-sync",children:"API Output"})]})," then find the Sync Resource KI made for you and skip to ",(0,t.jsx)(n.a,{href:"#verify-sync-changes",children:"Verify Sync Changes"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"create-sync-resource",children:"Create Sync Resource"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In your Komodo dashboard navigiate to ",(0,t.jsx)(n.strong,{children:"Syncs"})," -> ",(0,t.jsx)(n.strong,{children:"New Resource Sync"})]}),"\n",(0,t.jsx)(n.li,{children:"Create a Sync with whatever name you want"}),"\n",(0,t.jsxs)(n.li,{children:["In the Sync details page ",(0,t.jsx)(n.strong,{children:"Choose Mode"})," -> ",(0,t.jsx)(n.strong,{children:"UI Defined"})]}),"\n",(0,t.jsxs)(n.li,{children:["\u26A0\uFE0F Disable ",(0,t.jsx)(n.strong,{children:"Delete Unmatched Resources"})," \u26A0\uFE0F","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If this is ",(0,t.jsx)(n.strong,{children:"not"})," disabled you may delete all other Resources in Komodo! Double check this!"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Add the Komodo Import TOML to ",(0,t.jsx)(n.strong,{children:"Resoure Files"})," section"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Save"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"verify-sync-changes",children:"Verify Sync Changes"}),"\n",(0,t.jsxs)(n.p,{children:["Your Sync should now be in a ",(0,t.jsx)(n.strong,{children:"Pending"})," state (check the top header). If it's not click the ",(0,t.jsx)(n.strong,{children:"Refresh"})," button to update."]}),"\n",(0,t.jsxs)(n.p,{children:["Switching to the ",(0,t.jsx)(n.strong,{children:"Pending"})," tab now shows all of the actions Komodo will take to make it ",(0,t.jsx)(n.strong,{children:"match what is in the generated TOML."})," This should generally ",(0,t.jsx)(n.em,{children:"only"}),' be "Update Stack" or "Create Stack" actions.']}),"\n",(0,t.jsxs)(n.p,{children:["Verify that all of the actions are what you desire. If something is missing it can be updated by modifying the contents in ",(0,t.jsx)(n.strong,{children:"Resoure Files"})," in the ",(0,t.jsx)(n.strong,{children:"Config"})," tab."]}),"\n",(0,t.jsx)(n.h3,{id:"execute-sync",children:"Execute Sync"}),"\n",(0,t.jsxs)(n.p,{children:["Click the ",(0,t.jsx)(n.strong,{children:"Execute Sync"})," button to perform ",(0,t.jsx)(n.strong,{children:"all"})," the actions under ",(0,t.jsx)(n.strong,{children:"Pending"}),". Alternatively, use the ",(0,t.jsx)(n.strong,{children:"Execute Change"})," button next to each individual Action."]}),"\n",(0,t.jsx)(n.h3,{id:"remove-sync-optional",children:"Remove Sync (Optional)"}),"\n",(0,t.jsxs)(n.p,{children:["After Syncing is done you can safely ",(0,t.jsx)(n.strong,{children:"Delete"})," the Sync you created for use with Komodo Import."]}),"\n",(0,t.jsxs)(n.p,{children:["You may now want to create a proper ",(0,t.jsx)(n.a,{href:"https://blog.foxxmd.dev/posts/migrating-to-komodo/#resource-sync",children:"bi-directional, git-backed Sync"})," so your entire Komodo configuration is backed up and restorable."]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},65:function(e,n,o){o.d(n,{Z:()=>c,a:()=>i});var s=o(7294);let t={},r=s.createContext(t);function i(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);