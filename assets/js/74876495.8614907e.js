"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["631"],{3699:function(e,r,o){o.r(r),o.d(r,{frontMatter:()=>l,default:()=>m,toc:()=>d,metadata:()=>n,assets:()=>u,contentTitle:()=>c});var n=JSON.parse('{"id":"quickstart","title":"Quickstart","description":"Scenario","source":"@site/docs/quickstart.mdx","sourceDirName":".","slug":"/quickstart","permalink":"/komodo-import/docs/quickstart","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/quickstart.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Quickstart","sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Installation","permalink":"/komodo-import/docs/category/installation"}}'),t=o(5893),s=o(65),a=o(7902),i=o(5525);let l={title:"Quickstart",sidebar_position:1},c=void 0,u={},d=[{value:"Scenario",id:"scenario",level:2},{value:"Create Docker Compose File",id:"create-docker-compose-file",level:2},{value:"Choose Desired Output",id:"choose-desired-output",level:2}];function p(e){let r={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h2,{id:"scenario",children:"Scenario"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"You have Komodo already setup"}),"\n",(0,t.jsxs)(r.li,{children:["You have installed ",(0,t.jsx)(r.a,{href:"https://komo.do/docs/connect-servers",children:"Periphery"})," on a machine","\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["The Komodo ",(0,t.jsx)(r.a,{href:"https://komo.do/docs/resources#server",children:"Server"})," name is ",(0,t.jsx)(r.code,{children:"my-cool-server"})]}),"\n",(0,t.jsx)(r.li,{children:"The machine is currently using dockge and has all of its compose projects located in one folder like this:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:".\n\u2514\u2500\u2500 /home/myUser/homelab/\n    \u251C\u2500\u2500 immich/\n    \u2502   \u2514\u2500\u2500 compose.yaml\n    \u251C\u2500\u2500 plex/\n    \u2502   \u2514\u2500\u2500 docker-compose.yaml\n    \u2514\u2500\u2500 uptime-kuma/\n        \u2514\u2500\u2500 compose.yaml\n"})}),"\n",(0,t.jsxs)(r.p,{children:["You want to import all of the existing compose projects into Komodo as ",(0,t.jsx)(r.a,{href:"../usage/overview#files-on-server",children:"Files On Server"})," ",(0,t.jsx)(r.a,{href:"https://komo.do/docs/resources#stack",children:"Stacks"})," attached to ",(0,t.jsx)(r.code,{children:"my-cool-server"}),"."]}),"\n",(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.p,{children:["Using git repositories instead of plain folders? Check out the ",(0,t.jsx)(r.a,{href:"../usage/overview#git-repo",children:"Git Repo Stack docs"})]})}),"\n",(0,t.jsx)(r.h2,{id:"create-docker-compose-file",children:"Create Docker Compose File"}),"\n",(0,t.jsxs)(r.p,{children:["Use the ",(0,t.jsxs)(r.a,{href:"https://github.com/FoxxMD/komodo-import/blob/main/compose.yaml",children:["example ",(0,t.jsx)(r.code,{children:"compose.yaml"})," file from the repository"]})," as a starting point."]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Bind ",(0,t.jsx)(r.code,{children:"/home/myUser/homelab/"})," into the container at ",(0,t.jsx)(r.code,{children:"/filesOnServer"})," so Komodo Import can scan the parent folder (this is the same for plain folder and git repo stack methods)"]}),"\n",(0,t.jsxs)(r.li,{children:["Define ",(0,t.jsx)(r.code,{children:"HOST_PARENT_PATH=/home/myUser/homelab"})," so Komodo Import knows how to create Run Directory in a Komodo Stack correctly"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:"services:\n  komodo-import:\n    image: foxxmd/komodo-import:latest\n    volumes:\n      ## ParentDirectory:FILES_ON_SERVER_DIR\n      - /home/myUser/homelab:/filesOnServer\n      \n      ## optional, TOML is saved to file here when OUTPUT_DIR env is present\n      #- ./output:/output\n    environment:\n      - TZ=America/New_York\n      ## Komodo Server name to use for generated Stacks\n      - SERVER_NAME=my-cool-server\n      ## ParentDirectory on the host use as Stack Run Directory prefix\n      - HOST_PARENT_PATH=/home/myUser/homelab\n    restart: no\n"})}),"\n",(0,t.jsx)(r.h2,{id:"choose-desired-output",children:"Choose Desired Output"}),"\n",(0,t.jsxs)(a.Z,{groupId:"output",queryString:!0,children:[(0,t.jsxs)(i.Z,{value:"console",label:"Console",children:[(0,t.jsxs)(r.p,{children:["This ",(0,t.jsx)(r.a,{href:"../usage/overview#outputs",children:"Output"})," renders the Sync Resource TOML to docker logs. Run komodo-import with ",(0,t.jsx)(r.code,{children:"--no-log-prefix"})," to get the generated TOML output for a Sync Resource."]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"docker compose up --no-log-prefix\n"})}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:'[2025-08-11 14:06:19.080 -0400] INFO   : [Init] Debug Mode: NO\n[2025-08-11 14:06:19.094 -0400] INFO   : [App] Version: 0.1.0\n[2025-08-11 14:06:19.095 -0400] INFO   : [App] Files On Server Dir ENV: /filesOnServer -> Resolved: /filesOnServer\n[2025-08-11 14:06:19.096 -0400] INFO   : [App] [Files On Server] Processing Stacks for 2 folders:\n/filesOnServer/immich\n/filesOnServer/plex\n/filesOnServer/uptime-kuma\n[2025-08-11 14:06:19.096 -0400] INFO   : [App] [Files On Server] Compose File Glob: **/{compose,docker-compose}*.y?(a)ml\n[2025-08-11 14:06:19.097 -0400] INFO   : [App] [Files On Server] Env Glob: **/.env\n[2025-08-11 14:06:19.097 -0400] INFO   : [App] [Files On Server] [compose] Found Stack \'compose\' at dir /filesOnServer/compose.yaml\n[2025-08-11 14:06:19.103 -0400] WARN   : [App] [Files On Server] [compose] Did not find any files patterns matching compose glob\n[2025-08-11 14:06:19.103 -0400] INFO   : [App] [Files On Server] [compose] Stack config complete\n\n...\n\n[2025-08-11 14:06:19.118 -0400] INFO   : [App] [Files On Server] Built Stack configs for 3 folders\n[2025-08-11 14:06:19.119 -0400] INFO   : [App] Copy the text between the scissors to use as the *Resource File* contents within your Resource Sync\n\n\u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F\n\n[[stack]]\nname = "immich"\n\n[stack.config]\nserver = "my-cool-server"\nrun_directory = "/home/myUser/homelab/immich"\nfiles_on_host = true\nauto_update = false\npoll_for_updates = false\nfile_paths = [ "docker/docker-compose.yaml" ]\n\n[[stack]]\nname = "plex"\n\n[stack.config]\nserver = "my-cool-server"\nrun_directory = "/home/myUser/homelab/plex"\nfiles_on_host = true\nauto_update = false\npoll_for_updates = false\n\n[[stack]]\nname = "uptime-kuma"\n\n[stack.config]\nserver = "my-cool-server"\nrun_directory = "/home/myUser/homelab/uptime-kuma"\nfiles_on_host = true\nauto_update = false\npoll_for_updates = false\nenv_file_path = ".komodoEnv"\nadditional_env_files = [ ".env" ]\n\u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F  \u2702\uFE0F\n[2025-08-11 14:06:19.119 -0400] INFO   : [App] Done!\n'})}),(0,t.jsxs)(r.p,{children:["Now, ",(0,t.jsx)(r.a,{href:"../usage/resourceSync#create-sync-resource",children:"manually create a Sync Resource"})," and Execute to import your projects."]}),(0,t.jsxs)(r.p,{children:["Or, use ",(0,t.jsx)(r.a,{href:"./?output=sync-api#choose-desired-output",children:"Sync Api"})," output instead to directly write the Sync Resource to Komodo."]})]}),(0,t.jsxs)(i.Z,{value:"sync-api",label:"Sync API",children:[(0,t.jsxs)(r.p,{children:["This ",(0,t.jsx)(r.a,{href:"../usage/overview#outputs",children:"Output"})," writes the Sync Resource directly to your Komodo instance (but does not execute it!)"]}),(0,t.jsxs)(r.p,{children:["Create an ",(0,t.jsx)(r.a,{href:"../usage/overview#api-sync",children:"API Key and Secret"})," in Komodo, then add it to your Komodo Import ",(0,t.jsx)(r.code,{children:"compose.yaml"}),":"]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yaml",children:"services:\n  komodo-import:\n    image: foxxmd/komodo-import:latest\n    volumes:\n      ## ParentDirectory:FILES_ON_SERVER_DIR\n      - /home/myUser/homelab:/filesOnServer\n      \n      ## optional, TOML is saved to file here when OUTPUT_DIR env is present\n      #- ./output:/output\n    environment:\n      - TZ=America/New_York\n      ## Komodo Server name to use for generated Stacks\n      - SERVER_NAME=my-cool-server\n      ## ParentDirectory on the host use as Stack Run Directory prefix\n      - HOST_PARENT_PATH=/home/myUser/homelab\n\n      - KOMODO_URL=http://192.168.0.101:9120\n      - API_KEY=K-3A6btIPZYeBuD5ebSa9uD5ebuD5ebHIjYxT5sc\n      - API_SECRET=S-qnaXD1frutYlfC2ZYlfCSzqiYlfC1WYlfCVR34Yj4\n    restart: no\n"})}),(0,t.jsx)(r.p,{children:"Run komodo-import to create the Sync Resource"}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-shell",children:"$ docker compose up --no-log-prefix\n...\n[2025-08-11 17:46:54.030 -0400] INFO   : [App] [Sync API] Using 'komodo-import' as Sync Name\n[2025-08-11 17:46:54.032 -0400] VERBOSE: [App] [Sync API] KOMODO_URL: http://192.168.0.101:9120 | Normalized: http://192.168.0.101:9120/\n[2025-08-11 17:46:54.411 -0400] INFO   : [App] [Sync API] Resource Sync created.\n[2025-08-11 17:46:54.411 -0400] INFO   : [App] [Sync API] Resource Sync URL: http://192.168.0.101:9120/resource-syncs/689a41a04ed1b642f3053f57\n"})}),(0,t.jsxs)(r.p,{children:["Then continue to ",(0,t.jsx)(r.a,{href:"../usage/resourceSync#verify-sync-changes",children:"verifying the Sync Resource"})," in Komodo and Executing it to import your projects."]})]})]})]})}function m(e={}){let{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},5525:function(e,r,o){o.d(r,{Z:()=>s});var n=o(5893);o(7294);var t=o(7026);function s({children:e,hidden:r,className:o}){return(0,n.jsx)("div",{role:"tabpanel",className:(0,t.Z)("tabItem_Ymn6",o),hidden:r,children:e})}},7902:function(e,r,o){o.d(r,{Z:()=>x});var n=o(5893),t=o(7294),s=o(7026),a=o(9599),i=o(6550),l=o(2e3),c=o(4520),u=o(8341),d=o(6009);function p(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){let{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m({value:e,tabValues:r}){return r.some(r=>r.value===e)}var h=o(7227);function f({className:e,block:r,selectedValue:o,selectValue:t,tabValues:i}){let l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),u=e=>{let r=e.currentTarget,n=i[l.indexOf(r)].value;n!==o&&(c(r),t(n))},d=e=>{let r=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let o=l.indexOf(e.currentTarget)+1;r=l[o]??l[0];break}case"ArrowLeft":{let o=l.indexOf(e.currentTarget)-1;r=l[o]??l[l.length-1]}}r?.focus()};return(0,n.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":r},e),children:i.map(({value:e,label:r,attributes:t})=>(0,n.jsx)("li",{role:"tab",tabIndex:o===e?0:-1,"aria-selected":o===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...t,className:(0,s.Z)("tabs__item","tabItem_LNqP",t?.className,{"tabs__item--active":o===e}),children:r??e},e))})}function v({lazy:e,children:r,selectedValue:o}){let a=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===o);return e?(0,t.cloneElement)(e,{className:(0,s.Z)("margin-top--md",e.props.className)}):null}return(0,n.jsx)("div",{className:"margin-top--md",children:a.map((e,r)=>(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==o}))})}function y(e){let r=function(e){let{defaultValue:r,queryString:o=!1,groupId:n}=e,s=function(e){let{values:r,children:o}=e;return(0,t.useMemo)(()=>{let e=r??p(o).map(({props:{value:e,label:r,attributes:o,default:n}})=>({value:e,label:r,attributes:o,default:n})),n=(0,u.lx)(e,(e,r)=>e.value===r.value);if(n.length>0)throw Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[r,o])}(e),[a,h]=(0,t.useState)(()=>(function({defaultValue:e,tabValues:r}){if(0===r.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:r}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let o=r.find(e=>e.default)??r[0];if(!o)throw Error("Unexpected error: 0 tabValues");return o.value})({defaultValue:r,tabValues:s})),[f,v]=function({queryString:e=!1,groupId:r}){let o=(0,i.k6)(),n=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,c._X)(n),(0,t.useCallback)(e=>{if(!n)return;let r=new URLSearchParams(o.location.search);r.set(n,e),o.replace({...o.location,search:r.toString()})},[n,o])]}({queryString:o,groupId:n}),[y,x]=function({groupId:e}){let r=e?`docusaurus.tab.${e}`:null,[o,n]=(0,d.Nk)(r);return[o,(0,t.useCallback)(e=>{r&&n.set(e)},[r,n])]}({groupId:n}),k=(()=>{let e=f??y;return m({value:e,tabValues:s})?e:null})();return(0,l.Z)(()=>{k&&h(k)},[k]),{selectedValue:a,selectValue:(0,t.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);h(e),v(e),x(e)},[v,x,s]),tabValues:s}}(e);return(0,n.jsxs)("div",{className:(0,s.Z)("tabs-container","tabList__CuJ"),children:[(0,n.jsx)(f,{...r,...e}),(0,n.jsx)(v,{...r,...e})]})}function x(e){let r=(0,h.Z)();return(0,n.jsx)(y,{...e,children:p(e.children)},String(r))}}}]);